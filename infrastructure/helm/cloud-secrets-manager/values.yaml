image:
  repositorySecretService: "europe-west10-docker.pkg.dev/cloud-secrets-manager/docker-images/secret-service"
  repositoryAuditService: "europe-west10-docker.pkg.dev/cloud-secrets-manager/docker-images/audit-service"
  tag: "latest"
  pullPolicy: IfNotPresent

secretService:
  replicaCount: 2
  port: 8080
  resources:
    requests:
      memory: "512Mi"
      cpu: "500m"
    limits:
      memory: "1Gi"
      cpu: "1000m"

auditService:
  replicaCount: 2
  port: 8081
  resources:
    requests:
      memory: "256Mi"
      cpu: "250m"
    limits:
      memory: "512Mi"
      cpu: "500m"

# Secrets Configuration
# Set to false if using External Secrets Operator (recommended for production)
createSecrets: false

# If createSecrets is true, these values will be used to create Kubernetes Secrets
# If createSecrets is false, these are ignored and you must ensure secrets exist via ESO
jwtSecret: "ignored-if-create-secrets-is-false"
aesKey: "ignored-if-create-secrets-is-false"

postgres:
  secretsDb:
    user: secret_user
    # password: ignored-if-create-secrets-is-false
    db: secrets
    storage: 10Gi
  auditDb:
    user: audit_user
    # password: ignored-if-create-secrets-is-false
    db: audit
    storage: 10Gi

# Google Cloud Identity Platform Configuration
googleIdentity:
  enabled: true
  projectId: "cloud-secrets-manager"
  apiKey: ""  # Optional, set if needed
  serviceAccount:
    # Service account JSON should be provided as a Kubernetes secret (csm-google-service-account)
    secretName: "csm-google-service-account"
    key: "service-account.json"
  setupEnabled: false  # Disable setup endpoint in production

ingress:
  enabled: true
  className: "nginx"
  host: "secrets.local"
  annotations:
    nginx.ingress.kubernetes.io/rewrite-target: /$1

